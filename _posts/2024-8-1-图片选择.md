---
layout: post
title: 'Android 图片选择'
author: xmc91
date: 2024-8-1
tags: Android 
---

> Android 图片选择的那些事儿


# 调用系统
+ 使用Intent，部分手机不需要权限，部分手机需要 读SD卡权限，保险起见都读sd卡权限，，，，，，小米社区app，使用的是image的权限，即Android13之后图片、视频、录音那三个。
>  Intent intent = new Intent();
   intent.setType("image/*");
   intent.setAction(Intent.ACTION_PICK);
   startActivityForResult(Intent.createChooser(intent, "Select Picture"), 1);
+ ACTION_PICK 调用的是相册，ACTION_GET_CONTENT 调用的是系统文件系统。
+ 小米相册可配置一个类似 MAX_COUNT 的参数，但不知道是啥，这样调用时设置了最大数量，会有限制。



# 使用androidx.activity新的方式 PickVisualMedia
+ 简单
+ 在小米手机上，好看好用简单，在三星手机Android9上就那个啥了。单选调用的是文件系统，多选不支持



# 使用三方库，即自己写一个相册，屏蔽碎片化
+ 需要适配图片权限。13以下，sd卡；13 ，那三个权限；14，那三个加部分图片权限。