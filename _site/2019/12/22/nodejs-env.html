<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nodejs 环境搭建 - 雪木 Blog</title>
    <meta name="author"  content="雪木">
    <meta name="description" content="Nodejs 环境搭建">
    <meta name="keywords"  content="nodejs">
    <!-- Open Graph -->
    <meta property="og:title" content="Nodejs 环境搭建 - 雪木 Blog">
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://localhost:4000/2019/12/22/nodejs-env.html">
    <meta property="og:description" content="风一样de男子">
    <meta property="og:site_name" content="雪木 Blog">
    <link rel="stylesheet" href="//cdn.staticfile.org/normalize/6.0.0/normalize.min.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_roc50gemkxpw4s4i.css">
    <link rel="stylesheet" href="/assets/css/github-markdown.css">
    <link rel="stylesheet" href="/assets/css/prism.css">
    <link rel="stylesheet" href="/assets/css/share.min.css">
    <link rel="stylesheet" href="/assets/css/app.min.css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
	
	<!--
Author: Ray-Eldath
refer to:
 - http://docs.mathjax.org/en/latest/options/index.html
-->

	<script type="text/javascript" async src="https://cdn.bootcss.com/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
	
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
		jax: ["input/TeX", "output/HTML-CSS"],
		tex2jax: {
			inlineMath: [ ["$", "$"] ],
			displayMath: [ ["$$", "$$"] ],
			skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
		},
		"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
      });
    </script>

	
    <!--
Author: Ray-Eldath
-->
<style>
    .markdown-body .anchor{
        float: left;
        margin-top: -8px;
        margin-left: -20px;
        padding-right: 4px;
        line-height: 1;
        opacity: 0;
    }
    
    .markdown-body .anchor .anchor-icon{
        font-size: 15px
    }
</style>
<script>
    $(document).ready(function() {
        let nodes = document.querySelector(".markdown-body").querySelectorAll("h1,h2,h3")
        for(let node of nodes) {
            var anchor = document.createElement("a")
            var anchorIcon = document.createElement("i")
            anchorIcon.setAttribute("class", "fa fa-anchor fa-lg anchor-icon")
            anchorIcon.setAttribute("aria-hidden", true)
            anchor.setAttribute("class", "anchor")
            anchor.setAttribute("href", "#" + node.getAttribute("id"))
            
            anchor.onmouseover = function() {
                this.style.opacity = "0.4"
            }
            
            anchor.onmouseout = function() {
                this.style.opacity = "0"
            }
            
            anchor.appendChild(anchorIcon)
            node.appendChild(anchor)
        }
    })
</script>
</head>


<body>
  <!--[if lt IE 10]>
<div class="alert-danger" role="alert">你的浏览器实在太太太旧了，放学别走，升级完浏览器再说！<a target="_blank" class="alert-link" href="http://browsehappy.com">立即升级</a></div>
<![endif]-->
  <input id="nm-switch" type="hidden" value="true"> <header class="g-header">
    <div class="g-logo">
      <a href="/"></a>
    </div>
    <i id="menu-toggle" class="iconfont icon-menu"></i>
    <nav class="g-nav">
        <ul>
            
            <li><a href="/">home</a></li>
            
            <li><a href="/tags.html">tags</a></li>
            
        </ul>
    </nav>
</header>


  <header
    class="g-banner post-header post-pattern-circuitBoard bgcolor-pink post-no-cover"
    data-theme="pink"
  >
    <div class="post-wrapper">
      <div class="post-tags">
        
          
            <a href="/tags.html#nodejs" class="post-tag">nodejs</a>
          
        
      </div>
      <h1>Nodejs 环境搭建</h1>
      <div class="post-meta">
        <span class="post-meta-item"><i class="iconfont icon-author"></i>雪木</span>
        <time class="post-meta-item" datetime="19-12-22"><i class="iconfont icon-date"></i>22 Dec 2019</time>
      </div>
    </div>
    
  </header>

  <div class="post-content visible">
    

    <article class="markdown-body">
      <blockquote>
  <p>NodeJs 磨刀霍霍向猪羊</p>
</blockquote>

<ul>
  <li>nvm：管理各个node版本，便于不同项目使用不同node版本；</li>
  <li>Node：无法可说，主角</li>
  <li>npm：node的媳妇兼秘书，安装卸载node中间件</li>
</ul>

<h3 id="安装nvm">安装nvm</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// 随便用那个都行
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.1/install.sh | bash
wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.1/install.sh | bash
</code></pre></div></div>
<ul>
  <li><a href="https://docs.npmjs.com/">npm</a></li>
  <li><a href="https://docs.npmjs.com/misc/semver#advanced-range-syntax">更新时，版本号range逻辑</a>
    <blockquote>
      <p>x:重构等;y:功能升级;z:bug修复。[x.y.z]
~:指定了xy，只能升级z；只指定了x，则可以升级yz到最大；如果带beta，则只能升级beta-x
^:最左边第一个不为0的不升级，0以后的升级</p>
    </blockquote>
  </li>
  <li>
    <p>nvm example</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Example:
nvm install 8.0.0           Install a specific version number
nvm use 8.0              Use the latest available 8.0.x release
nvm run 6.10.3 app.js         Run app.js using node 6.10.3
nvm exec 4.8.3 node app.js      
nvm alias default 8.1.0       
nvm alias default node
</code></pre></div>    </div>
  </li>
  <li>
    <p>卸载</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>to remove, delete, or uninstall nvm - just remove the `$NVM_DIR` folder (usually `~/.nvm`)
</code></pre></div>    </div>
  </li>
  <li>
    <p>安装node 8.0.0</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nvm install 8.0.0
Downloading and installing node v8.0.0...
Downloading https://nodejs.org/dist/v8.0.0/node-v8.0.0-darwin-x64.tar.gz...
\############################################################################################# 100.0%
Computing checksum with shasum -a 256
Checksums matched!
Now using node v8.0.0 (npm v5.0.0)
Creating default alias: default -&gt; 8.0.0 (-&gt; v8.0.0)
</code></pre></div>    </div>
  </li>
  <li>
    <p>安装node 10.0.0</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nvm install 10.0.0
Now using node v10.0.0 (npm v5.6.0)
</code></pre></div>    </div>
  </li>
  <li>重命名node版本
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nvm alias n10 10.0.0
nvm alias n8 8.0.0
</code></pre></div>    </div>
  </li>
  <li>切换版本
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nvm use n10
nvm use n8
</code></pre></div>    </div>
  </li>
  <li>查看可用版本
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nvm ls
-&gt;    v8.0.0
​    v10.0.0
​     system
default -&gt; 8.0.0 (-&gt; v8.0.0)
n8 -&gt; 8.0.0 (-&gt; v8.0.0)
n10 -&gt; 10.0.0 (-&gt; v10.0.0)
node -&gt; stable (-&gt; v10.0.0) (default)
stable -&gt; 10.0 (-&gt; v10.0.0) (default)
</code></pre></div>    </div>
  </li>
  <li>安装稳定版本
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nvm install stable
Now using node v13.3.0 (npm v6.13.1)
</code></pre></div>    </div>
  </li>
  <li>
    <p>配置环境变量</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// 编辑配置文件
vim .bash_profile
// 编辑
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] &amp;&amp; \. "$NVM_DIR/nvm.sh"  # This loads nvm
// 重载配置文件
source .bash_profile
</code></pre></div>    </div>

    <h3 id="npm">npm</h3>
  </li>
  <li>
    <p>切换为淘宝</p>

    <blockquote>
      <p>npm install -g cnpm –registry=<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fregistry.npm.taobao.org">https://registry.npm.taobao.org</a></p>
    </blockquote>
  </li>
  <li>直接敲npm/cnpm 可以查看usage</li>
</ul>

<h2 id="本地测试">本地测试</h2>
<h3 id="安装并启动mongodb">安装并启动MongoDB</h3>
<ul>
  <li>下载：https://www.mongodb.com/try#community</li>
  <li>解压</li>
  <li>配置环境变量
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export PATH=${PATH}:/usr/local/MongoDB/bin
</code></pre></div>    </div>
  </li>
  <li>创建data和log目录</li>
  <li>启动
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mongod --dbpath data --logpath log/mongod.log --logappend
</code></pre></div>    </div>
    <h3 id="安装并启动redis">安装并启动Redis</h3>
  </li>
  <li>下载：https://redis.io/</li>
  <li>解压：tar zxvf redis-4.0.10.tar.gz</li>
  <li>安装：sudo make install</li>
  <li>启动服务
<code class="language-plaintext highlighter-rouge">
cd /usr/local/Cellar/redis/5.0.6/bin
redis-server 
              _._                                                  
         _.-``__ ''-._                                             
    _.-``    `.  `_.  ''-._           Redis 5.0.6 (00000000/0) 64 bit
.-`` .-</code>.  ```\/    <em>.,</em> ‘’-._                                 <br />
 (    ‘      ,       .-<code class="language-plaintext highlighter-rouge">  | </code>,    )     Running in standalone mode
 |<code class="language-plaintext highlighter-rouge">-._</code>-…-<code class="language-plaintext highlighter-rouge"> __...-.</code><code class="language-plaintext highlighter-rouge">-._|'</code> <em>.-‘|     Port: 6379
 |    <code class="language-plaintext highlighter-rouge">-._   </code>.</em>    /     <em>.-‘    |     PID: 24650
<code class="language-plaintext highlighter-rouge">-._    </code>-.</em>  <code class="language-plaintext highlighter-rouge">-./  _.-'    _.-'                                   
 |</code>-.<em><code class="language-plaintext highlighter-rouge">-._    </code>-.<strong>.-‘    _.-‘_.-‘|                                <br />
 |    <code class="language-plaintext highlighter-rouge">-._</code>-._        _.-‘_.-‘    |           http://redis.io      <br />
<code class="language-plaintext highlighter-rouge">-._    </code>-._<code class="language-plaintext highlighter-rouge">-.__.-'_.-'    _.-'                                   
 |</code>-._<code class="language-plaintext highlighter-rouge">-._    </code>-.</strong>.-‘    _.-‘</em>.-‘|                                <br />
 |    <code class="language-plaintext highlighter-rouge">-._</code>-._        <em>.-‘</em>.-‘    |                                <br />
<code class="language-plaintext highlighter-rouge">-._    </code>-.<em><code class="language-plaintext highlighter-rouge">-.__.-'_.-'    _.-'                                   
    </code>-.</em>    <code class="language-plaintext highlighter-rouge">-.__.-'    _.-'                                       
        </code>-._        _.-‘                                         <br />
            `-.__.-‘</li>
</ul>

<p>```</p>
<h2 id="远程服务器部署">远程服务器部署</h2>
<h3 id="linux部署">Linux部署</h3>
<ul>
  <li>git clone 代码</li>
  <li>npm install 安装依赖</li>
  <li>配置Nginx</li>
</ul>


    </article>

    
    <div class="social-share-wrapper">
      <div class="social-share"></div>
    </div>
    
  </div>

  <section class="author-detail">
    <section class="post-footer-item author-card">
      <div class="avatar">
        <img src="/assets/img/profile.png" alt="">
      </div>
      <div class="author-name" rel="author">雪木</div>
      <div class="bio">
        <p>开发者,哲学,历史,杂谈</p>
      </div>
      
      <ul class="sns-links">
        
        <li>
          <a href="//juejin.im/user/58b513f0570c35006b0be9c1" target="_blank">
                    <i class="iconfont icon-juejin"></i>
                </a>
        </li>
        
        <li>
          <a href="//github.com/xmc91" target="_blank">
                    <i class="iconfont icon-github"></i>
                </a>
        </li>
        
        <li>
          <a href="//weibo.com/u/6206849398" target="_blank">
                    <i class="iconfont icon-weibo"></i>
                </a>
        </li>
        
      </ul>
      
    </section>
    <section class="post-footer-item read-next">
      
      <div class="read-next-item">
        <a href="/2019/12/22/wx-open.html" class="read-next-link"></a>
        <section>
          <span>公众号接入小程序流程</span>
          <p>  公众号小程序公众号接入小程序流程绑定小程序### 登录微信公众号。 ### 左侧选择‘小程序’，如果右侧提示未...</p>
        </section>
        
     </div>
      

      
      <div class="read-next-item">
        <a href="/2019/12/22/hello-jekyll.html" class="read-next-link"></a>
          <section>
            <span>Hello Jekyll</span>
            <p>  本站使用方法  内容    在_post路径下，编写内容编写头---layout: posttitle: 'H...</p>
          </section>
          
          <div class="filter"></div>
          <img src="http://a3.att.hudong.com/14/75/01300000164186121366756803686.jpg" alt="">
          
      </div>
      
    </section>
    
    <section class="post-footer-item comment">
        <div id="disqus_thread"></div>
    </section>
    
  </section>

  <footer class="g-footer">
  <section>雪木 Blog ©
  
  
    2019
    -
  
  2023
  </section>
  <section>Powered by <a href="//jekyllrb.com">Jekyll</a> | <a href="https://github.com/kaeyleo/jekyll-theme-H2O">Theme H2O</a></section>  

 总访问量<span id="busuanzi_value_site_pv"></span>次
 |访客数<span id="busuanzi_value_site_uv"></span>人次
 
</footer>


  <script src="/assets/js/social-share.min.js"></script>
  <script>
    socialShare('.social-share', {
      sites: [
        
          'wechat'
          ,
          
        
          'weibo'
          ,
          
        
          'twitter'
          
        
      ],
      wechatQrcodeTitle: "分享到微信朋友圈",
      wechatQrcodeHelper: '<p>扫码后点击右上角</p><p>将本文分享至朋友圈</p>'
    });
  </script>

  
  <script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://xwindman.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  

  <script src="/assets/js/prism.js"></script>
  <script src="/assets/js/index.min.js"></script>
</body>

</html>
